graph TB
    %% ============================================
    %% CODETALE ‚Äî FULL ARCHITECTURE
    %% ============================================

    %% --- USER ENTRY ---
    USER((üë§ User))
    USER -->|"GitHub URL"| FRONTEND

    %% --- FRONTEND ---
    subgraph FRONTEND["üñ•Ô∏è FRONTEND ‚Äî Lovable"]
        direction TB
        LOVABLE["Lovable<br/>(React No-Code)"]
        REVEALJS["Reveal.js<br/>üìä Slides"]
        REMOTION["Framer Motion<br/>üé¨  UI animations and transitions"]
        LOVABLE --> REVEALJS
        LOVABLE --> REMOTION
    end

    %% --- ORCHESTRATION ---
    FRONTEND -->|"API Call<br/>/analyze"| DIFY

    subgraph DIFY["‚öôÔ∏è ORCHESTRATION ‚Äî Dify"]
        direction TB
        WORKFLOW["Workflow Engine"]
        
        subgraph AGENTS["ü§ñ Multi-Agent System"]
            direction LR
            A1["Agent 1<br/>üîç Code Analyst"]
            A2["Agent 2<br/>‚úçÔ∏è Script Writer"]
            A3["Agent 3<br/>üé® Slide Designer"]
            A4["Agent 4<br/>‚úÖ Validator"]
            A1 --> A2 --> A3 --> A4
        end

        WORKFLOW --> AGENTS
    end

    %% --- AI PROVIDERS ---
    subgraph AI["üß† AI PROVIDERS"]
        direction TB
        OPENAI["OpenAI GPT 5.2 Pro <br/>üß† LLM Principal"]
        DEEPWIKI["DeepWiki<br/>üìö Repo Intelligence"]
        FALAI["fal.ai<br/>üñºÔ∏è Image Generation"]
        MERMAID["Mermaid<br/>üìê Diagrams"]
        MANIM["Manim<br/>üéûÔ∏è Algorithm Animations"]
    end

    DIFY -->|"Analyse & G√©n√©ration"| OPENAI
    DIFY -->|"Contexte enrichi<br/>du repo"| DEEPWIKI
    DIFY -->|"G√©n√®re images"| FALAI
    DIFY -->|"G√©n√®re diagrammes"| MERMAID
    DIFY -->|"G√©n√®re animations"| MANIM

    %% --- GITHUB ---
    GITHUB[("GitHub API<br/>üì¶ Repo Source")]
    DIFY -->|"Fetch tree<br/>& files"| GITHUB

    %% --- RETURN TO FRONTEND ---
    DIFY -->|"JSON structured<br/>slide data"| FRONTEND

    %% ============================================
    %% FUTURE / EXTENSIONS
    %% ============================================

    subgraph FUTURE["üîÆ ROADMAP ‚Äî Future Integrations"]
        direction TB

        subgraph DUST_BLOCK["üìÇ Dust ‚Äî Private Data"]
            DUST["Dust.tt<br/>Private Codebase Analysis<br/>Multi-repo Crois√©"]
        end

        subgraph ALPIC_BLOCK["üåâ Alpic Skybridge"]
            SKYBRIDGE["Skybridge<br/>Low-Code UI"]
            CODEX_SKILL["Skill: Codex<br/>Talk to Code"]
            CANVA_SKILL["Skill: Canva UX"]
            FIGMA_SKILL["Skill: Figma"]
            SKYBRIDGE --> CODEX_SKILL
            SKYBRIDGE --> CANVA_SKILL
            SKYBRIDGE --> FIGMA_SKILL
        end

        subgraph ZML_BLOCK["‚ö° ZML"]
            ZML["ZeroML<br/>New Hardware AI Accelerators"]
        end
    end

    %% --- Future connections (dashed feel via style) ---
    DIFY -.->|"Private repos<br/>(future)"| DUST
    FRONTEND -.->|"Interactive AI chat<br/>(future)"| SKYBRIDGE
    FALAI -.->|"Alt inference<br/>on-device (side project)"| ZML

    %% ============================================
    %% STYLES
    %% ============================================
    style FRONTEND fill:#1a1a2e,stroke:#e94560,color:#fff,stroke-width:2px
    style DIFY fill:#0f3460,stroke:#00d2ff,color:#fff,stroke-width:2px
    style AI fill:#16213e,stroke:#53d8fb,color:#fff,stroke-width:2px
    style FUTURE fill:#1b1b2f,stroke:#f5a623,color:#fff,stroke-dasharray:5 5,stroke-width:2px
    style DUST_BLOCK fill:#2d2d44,stroke:#f5a623,color:#fff
    style ALPIC_BLOCK fill:#2d2d44,stroke:#f5a623,color:#fff
    style ZML_BLOCK fill:#2d2d44,stroke:#f5a623,color:#fff
    style AGENTS fill:#162447,stroke:#00d2ff,color:#fff
    style USER fill:#e94560,stroke:#fff,color:#fff
    style GITHUB fill:#333,stroke:#fff,color:#fff
